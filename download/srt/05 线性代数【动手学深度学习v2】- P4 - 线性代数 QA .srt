1
00:00:00,000 --> 00:00:02,160
在上一次课程中

2
00:00:02,160 --> 00:00:07,280
我们在解释如何按照特定的轴做SUM的时候

3
00:00:07,280 --> 00:00:09,560
我们感觉没有解释的特别通透

4
00:00:09,560 --> 00:00:13,800
而且有同学在聊天区问我们很多细节的问题

5
00:00:13,800 --> 00:00:16,359
所以在此我重新录一段视频

6
00:00:16,359 --> 00:00:19,039
给大家讲一下具体是怎么回事

7
00:00:19,039 --> 00:00:21,000
首先我们举一个例子

8
00:00:21,320 --> 00:00:23,559
我们假设我们有一个矩阵

9
00:00:24,280 --> 00:00:26,719
那么它假设有5行

10
00:00:26,719 --> 00:00:28,839
1 2 3 4

11
00:00:29,160 --> 00:00:30,879
然后而且有4列

12
00:00:30,879 --> 00:00:32,079
我再画4列

13
00:00:33,479 --> 00:00:35,439
那么如果把它写下来的话

14
00:00:35,439 --> 00:00:37,719
它的形状就是一个5乘4

15
00:00:37,719 --> 00:00:38,679
它的Shape

16
00:00:39,439 --> 00:00:44,879
Shape就是一个5和4的一个list

17
00:00:47,200 --> 00:00:49,240
它的维度那就是2

18
00:00:49,600 --> 00:00:52,000
而且它的axis就是它的轴

19
00:00:52,000 --> 00:00:54,159
它的轴

20
00:00:54,400 --> 00:00:56,039
第一个是0

21
00:00:56,480 --> 00:00:57,600
第二个轴是1

22
00:00:57,600 --> 00:01:00,600
就是你的Shape是一个list

23
00:01:00,600 --> 00:01:03,280
那么它的0轴就是第一个元素

24
00:01:03,520 --> 00:01:05,680
第二个轴就是第二个元素

25
00:01:06,120 --> 00:01:07,480
那么可以看到是说

26
00:01:07,480 --> 00:01:12,079
在这个地方按照行那是轴0

27
00:01:12,079 --> 00:01:13,920
按照列它就是轴1

28
00:01:13,920 --> 00:01:16,599
所以我可以这么写一下axis

29
00:01:16,599 --> 00:01:18,680
那么按行它就是0

30
00:01:18,960 --> 00:01:20,079
按列它就是1

31
00:01:21,480 --> 00:01:26,480
如果说我们要按照axis等于0来做SUM的话

32
00:01:26,880 --> 00:01:30,280
那么它其实就是我来画一个改个颜色

33
00:01:30,280 --> 00:01:33,040
那么就是说第一列我们求SUM

34
00:01:36,439 --> 00:01:40,120
那么沿着第二列我继续求

35
00:01:41,120 --> 00:01:43,120
每一列球会得到一个

36
00:01:43,120 --> 00:01:46,800
如果是axis等于0求SUM

37
00:01:47,920 --> 00:01:49,800
那么它就会得到一个

38
00:01:49,800 --> 00:01:52,560
成为一个4的一个项链

39
00:01:53,640 --> 00:01:55,159
它的Shape会等于4

40
00:01:56,159 --> 00:01:58,359
如果你按axis等于1的话

41
00:01:59,079 --> 00:02:03,039
那么你的axis等于1的话

42
00:02:03,039 --> 00:02:04,959
那么求SUM的话

43
00:02:05,159 --> 00:02:07,120
它就是我换个颜色

44
00:02:07,120 --> 00:02:11,159
那么它就是按照

45
00:02:11,479 --> 00:02:14,240
把每一个axis也1的轴

46
00:02:14,240 --> 00:02:17,800
对它做一次求和

47
00:02:17,800 --> 00:02:20,560
那么这个地方它就会变成形状为5

48
00:02:22,719 --> 00:02:24,919
就是说你可以看到的是说

49
00:02:25,280 --> 00:02:26,719
假设我还是重新写一下

50
00:02:26,719 --> 00:02:28,359
我把我们的Shape写在这个地方

51
00:02:28,599 --> 00:02:31,400
Shape是5和4

52
00:02:33,280 --> 00:02:37,359
如果我按axis等于1来求的话

53
00:02:37,359 --> 00:02:38,960
那么就是把4画掉

54
00:02:38,960 --> 00:02:39,919
变成一个5

55
00:02:41,359 --> 00:02:41,840
怎么画

56
00:02:42,199 --> 00:02:45,039
就是axis等于1来求和的话

57
00:02:45,680 --> 00:02:49,840
那么等于是把4这一个东西去掉

58
00:02:49,840 --> 00:02:51,719
变只留下5在这个地方

59
00:02:52,400 --> 00:02:54,240
如果是axis等于0的话

60
00:02:54,760 --> 00:02:57,480
就是把第一个维度给消掉

61
00:02:57,480 --> 00:02:59,080
那么就留下的就是一个4

62
00:03:00,800 --> 00:03:02,960
当然我们可以拓展到任何一个情况

63
00:03:03,280 --> 00:03:03,879
我们再来

64
00:03:03,879 --> 00:03:07,800
比如说我们再写一个Shape等于三维的话

65
00:03:08,200 --> 00:03:11,240
就是比如说2 5 4

66
00:03:13,120 --> 00:03:13,719
同样的话

67
00:03:13,719 --> 00:03:17,600
如果我想要按照axis等于1

68
00:03:18,760 --> 00:03:21,719
axis等于1来求和

69
00:03:22,280 --> 00:03:24,960
那么就是把中间5去掉

70
00:03:24,960 --> 00:03:26,319
那么剩下的就是一个

71
00:03:26,319 --> 00:03:27,840
它的Shape就是2和4

72
00:03:28,680 --> 00:03:29,439
同样道理说

73
00:03:29,439 --> 00:03:32,479
axis如果是按照等于2的话

74
00:03:32,919 --> 00:03:35,759
那么就是把最后一个维度4去掉

75
00:03:36,079 --> 00:03:37,719
那么留下的是2和5

76
00:03:40,000 --> 00:03:42,599
当然我们可以说按多个axis求和

77
00:03:43,079 --> 00:03:43,840
举个例子

78
00:03:44,079 --> 00:03:47,719
如果我们要按照axis0和2求和的话

79
00:03:48,080 --> 00:03:52,400
等于是把第一个2和第最后一个4给去掉

80
00:03:52,400 --> 00:03:53,400
留下的就是5

81
00:03:53,400 --> 00:03:55,240
比如说我们写一下axis

82
00:03:55,240 --> 00:03:58,079
如果是等于1和2的话

83
00:03:58,520 --> 00:04:02,800
我们留下的就是一个成为4的Shape的一个结果

84
00:04:04,199 --> 00:04:04,319
好

85
00:04:04,319 --> 00:04:05,240
这个就是说

86
00:04:05,240 --> 00:04:07,280
如果按照某一个维度

87
00:04:07,280 --> 00:04:09,680
或者某几个维度求sum的话

88
00:04:09,680 --> 00:04:11,120
那么等加以我的Shape

89
00:04:11,120 --> 00:04:13,199
就是把它那几个Shape去掉

90
00:04:13,199 --> 00:04:14,039
剩下的所有

91
00:04:15,039 --> 00:04:18,039
当然我们提到一种说要keep dimension

92
00:04:18,039 --> 00:04:21,879
就是假设我要keep

93
00:04:22,240 --> 00:04:23,680
dims

94
00:04:24,439 --> 00:04:26,480
等于true的话

95
00:04:26,839 --> 00:04:29,759
那么它我不会把它那一个维度去掉

96
00:04:29,759 --> 00:04:31,039
而是把它变成1

97
00:04:31,680 --> 00:04:33,240
同样举个情况

98
00:04:33,240 --> 00:04:34,079
举个例子

99
00:04:34,240 --> 00:04:37,000
如果我的Shape是254

100
00:04:37,000 --> 00:04:38,439
还是一样的254

101
00:04:39,439 --> 00:04:41,800
假设我要

102
00:04:42,399 --> 00:04:45,360
仍然是把axis等于1求和

103
00:04:45,360 --> 00:04:47,879
但是我keep dimension等于true的话

104
00:04:47,879 --> 00:04:51,000
那么axis等于1

105
00:04:51,000 --> 00:04:52,879
那么它的结果就是说

106
00:04:52,879 --> 00:04:54,399
我把5变成了1

107
00:04:54,399 --> 00:04:55,839
剩下的2和4会保留

108
00:04:55,839 --> 00:04:57,759
那就是2 1 4

109
00:04:57,759 --> 00:04:58,560
我的Shape

110
00:04:59,319 --> 00:05:00,480
同样道理是说

111
00:05:00,480 --> 00:05:05,720
我要把axis等于1和2求和

112
00:05:06,320 --> 00:05:10,960
那么我就会把5和4的Shape变成1

113
00:05:10,960 --> 00:05:11,840
剩下的就是2

114
00:05:11,840 --> 00:05:14,520
那就变成了2 1 1

115
00:05:15,080 --> 00:05:15,520
OK

116
00:05:15,520 --> 00:05:17,320
这就是一个简单的解释

117
00:05:17,960 --> 00:05:18,440
好

118
00:05:18,440 --> 00:05:20,240
接下来我们来看一下

119
00:05:20,520 --> 00:05:21,840
我们用代码来实现

120
00:05:21,840 --> 00:05:23,080
刚刚我们所说的

121
00:05:23,600 --> 00:05:26,160
我们首先创建一个Tensor

122
00:05:26,560 --> 00:05:28,440
创建一个全一的Tensor

123
00:05:28,800 --> 00:05:30,160
它的Shape是

124
00:05:30,160 --> 00:05:31,520
比如说是2254

125
00:05:31,520 --> 00:05:32,960
这是我们刚刚提到的

126
00:05:33,320 --> 00:05:35,440
我们把A的Shape打印一下

127
00:05:35,760 --> 00:05:37,160
大家可以看到是254

128
00:05:38,480 --> 00:05:40,560
当然我们可以对它求sum

129
00:05:40,560 --> 00:05:41,800
然后看一下它的Shape

130
00:05:42,240 --> 00:05:43,440
它的Shape是为空

131
00:05:43,440 --> 00:05:44,920
表示它是一个标量

132
00:05:45,480 --> 00:05:45,800
好

133
00:05:45,800 --> 00:05:48,080
然后我们接下来按照

134
00:05:48,080 --> 00:05:51,760
D维度为1来求sum

135
00:05:52,040 --> 00:05:53,880
那么刚刚我们解释的是说

136
00:05:53,880 --> 00:05:56,080
它把Shape里面的第一个元素

137
00:05:56,080 --> 00:05:57,320
也就是中间那个元素

138
00:05:57,320 --> 00:05:58,920
因为Shape是从0开始的

139
00:05:59,120 --> 00:06:00,480
那么变成去掉

140
00:06:00,480 --> 00:06:02,440
然后剩下的应该是2和4

141
00:06:02,920 --> 00:06:04,160
我们可以看一下

142
00:06:04,680 --> 00:06:05,880
可以看到是说

143
00:06:05,880 --> 00:06:08,760
按照axis等于1求sum

144
00:06:08,760 --> 00:06:12,160
那么中间Shape的元素5

145
00:06:12,160 --> 00:06:13,080
就被去掉了

146
00:06:13,200 --> 00:06:14,520
剩下的就是2和4

147
00:06:14,920 --> 00:06:15,960
当然我们可以看一下

148
00:06:15,960 --> 00:06:17,600
它的实际的值

149
00:06:19,680 --> 00:06:21,520
因为维度1

150
00:06:21,520 --> 00:06:22,720
它有5个元素

151
00:06:23,040 --> 00:06:23,680
全是1

152
00:06:23,680 --> 00:06:25,720
所以它求和刚好是等于5

153
00:06:26,520 --> 00:06:30,920
然后我们可以说把0求和

154
00:06:31,000 --> 00:06:33,480
那么它就是把第一个元

155
00:06:33,480 --> 00:06:35,280
第0个元素2去掉

156
00:06:35,280 --> 00:06:36,480
剩下的是5和4

157
00:06:37,040 --> 00:06:37,879
同样道理是说

158
00:06:37,879 --> 00:06:40,480
我们按照0和2求和

159
00:06:40,480 --> 00:06:42,920
那么就是把中间Shape留下

160
00:06:42,920 --> 00:06:44,879
剩下的是一个常为5的一个向量

161
00:06:46,680 --> 00:06:48,160
接下来我们看一下说

162
00:06:48,160 --> 00:06:50,439
假设我们要keep dimension会怎么样

163
00:06:51,280 --> 00:06:51,960
同样道理

164
00:06:51,960 --> 00:06:53,000
我来keep

165
00:06:53,000 --> 00:06:54,840
dims等于2

166
00:06:56,080 --> 00:06:57,120
之前我们说

167
00:06:57,120 --> 00:06:59,400
如果它默认是false的话

168
00:06:59,480 --> 00:07:01,440
那么就是把中间的Shape的5

169
00:07:01,440 --> 00:07:02,600
那个元素去掉了

170
00:07:02,600 --> 00:07:05,520
那么现在可以看到是说

171
00:07:05,760 --> 00:07:08,160
我们维度的个数没有发生变化

172
00:07:08,160 --> 00:07:11,800
只是说中间的Shape5

173
00:07:11,800 --> 00:07:12,920
现在变成了1

174
00:07:13,360 --> 00:07:15,400
之前是把1直接去掉

175
00:07:16,120 --> 00:07:17,880
同样道理是说

176
00:07:17,880 --> 00:07:21,360
如果我能对2和0和2的维度

177
00:07:21,360 --> 00:07:22,800
一起求sum的话

178
00:07:23,040 --> 00:07:24,400
那么可以看到是说

179
00:07:24,520 --> 00:07:26,640
第0个元素和第2个元素

180
00:07:26,640 --> 00:07:28,480
在Shape中全部变成了1

181
00:07:28,480 --> 00:07:30,960
但是中间保持不变

