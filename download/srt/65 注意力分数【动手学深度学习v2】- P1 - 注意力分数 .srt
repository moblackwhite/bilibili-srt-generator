1
00:00:00,000 --> 00:00:05,879
问题一,核回归里面算法后面红色的热图是什么意思

2
00:00:05,879 --> 00:00:08,560
热图就是把你那个weight画出来

3
00:00:08,560 --> 00:00:12,240
就是把你那个注意力的权重画出来

4
00:00:12,240 --> 00:00:14,080
注意力权重是什么东西

5
00:00:14,080 --> 00:00:16,320
注意力权重说对任何一个query

6
00:00:16,320 --> 00:00:17,440
就任何一行

7
00:00:17,440 --> 00:00:19,839
就表示我这个query

8
00:00:19,839 --> 00:00:25,039
我要给每个key value pair多少个注意力

9
00:00:25,039 --> 00:00:27,080
就那个权重多高

10
00:00:27,080 --> 00:00:31,360
就是说你认为我这个query会去多去

11
00:00:31,360 --> 00:00:34,160
对哪个key value pair觉得重要一点

12
00:00:35,079 --> 00:00:36,880
就是说这个东西就是那个weight

13
00:00:36,880 --> 00:00:39,800
所以那个热图就是把它画出来就可以看到说

14
00:00:39,800 --> 00:00:42,560
这个东西我们之后会来看

15
00:00:42,560 --> 00:00:44,400
之后就是说做到应用的时候

16
00:00:44,400 --> 00:00:46,480
经常可以说我在翻译的时候

17
00:00:46,480 --> 00:00:50,560
每一个生成的词跟前面几个词是一一对应的

18
00:00:52,680 --> 00:00:54,400
query key value的主要区别

19
00:00:55,399 --> 00:00:57,560
query和key和value的主要区别

20
00:00:57,719 --> 00:00:59,079
这个东西是一个语意上

21
00:00:59,079 --> 00:01:01,280
就是说我们之后会

22
00:01:01,280 --> 00:01:02,960
我就不给大家先剧透

23
00:01:03,079 --> 00:01:04,719
就是之后我们会讲到应用的时候

24
00:01:04,719 --> 00:01:07,120
会给大家讲到底query是谁

25
00:01:07,120 --> 00:01:07,640
key是谁

26
00:01:07,640 --> 00:01:08,239
value是谁

27
00:01:10,640 --> 00:01:14,400
第三把之前的x和xi换成了q和ki吗

28
00:01:14,400 --> 00:01:15,239
是的

29
00:01:15,239 --> 00:01:20,159
就是我们在讲合回归的时候用的是x和xi

30
00:01:20,400 --> 00:01:22,319
我们这里用的向量版本

31
00:01:22,400 --> 00:01:25,280
它的向量版本我们用的是q和ki

32
00:01:25,560 --> 00:01:25,880
OK

33
00:01:25,880 --> 00:01:27,280
这是我们换了一个东西

34
00:01:28,080 --> 00:01:29,880
所以我干脆下次我就把

35
00:01:30,280 --> 00:01:33,840
干脆我把书里面的x和xi也换回到q和ki好了

36
00:01:36,600 --> 00:01:40,080
为什么注意力可以理解成两者的相似度

37
00:01:41,960 --> 00:01:43,760
它不是说理解成相似度

38
00:01:44,080 --> 00:01:48,400
是说我们通常是用相似度作为注意力的分数

39
00:01:49,200 --> 00:01:50,160
是什么意思

40
00:01:50,319 --> 00:01:50,879
就是说

41
00:01:51,119 --> 00:01:54,200
我要查询一个query的值的话

42
00:01:54,200 --> 00:01:56,039
我有一堆值在那

43
00:01:56,039 --> 00:01:58,039
我就应该看谁跟我相近

44
00:01:58,039 --> 00:02:00,280
那么它的value就会比较重要一点

45
00:02:02,359 --> 00:02:02,959
OK

46
00:02:03,399 --> 00:02:05,560
就是说你说我预测一下

47
00:02:06,560 --> 00:02:08,000
我怎么预测呢

48
00:02:10,120 --> 00:02:10,919
就公司里面

49
00:02:10,919 --> 00:02:12,680
就是说假设你在公司里面上班

50
00:02:12,879 --> 00:02:13,879
或者说

51
00:02:16,719 --> 00:02:18,199
公司比如说公司里面上班

52
00:02:18,360 --> 00:02:19,360
你要预测

53
00:02:20,000 --> 00:02:21,680
我加入一个新的公司

54
00:02:21,680 --> 00:02:22,920
我要拿多少薪水

55
00:02:22,920 --> 00:02:23,680
我怎么去算

56
00:02:24,120 --> 00:02:27,000
我肯定不能把一个公司的平均薪水给放出来

57
00:02:27,000 --> 00:02:27,400
对吧

58
00:02:27,680 --> 00:02:32,400
我应该去说去找一个跟我可能差不多的能力的

59
00:02:32,400 --> 00:02:33,760
就工作时间

60
00:02:34,240 --> 00:02:36,160
然后能力做的方向

61
00:02:36,160 --> 00:02:36,840
差不多人

62
00:02:36,960 --> 00:02:37,480
一堆人

63
00:02:37,640 --> 00:02:38,680
那些对人的

64
00:02:38,920 --> 00:02:41,760
那些人的那些工资做个平均

65
00:02:41,760 --> 00:02:44,680
可能是等于在我今后的薪水

66
00:02:44,680 --> 00:02:45,200
对吧

67
00:02:45,960 --> 00:02:47,840
那么我们为什么只选那些人

68
00:02:47,960 --> 00:02:49,719
就是给那些人比较大的权重

69
00:02:49,719 --> 00:02:51,240
别的人权重就比较低

70
00:02:51,439 --> 00:02:53,319
所以为什么我给那些人大的权重

71
00:02:53,400 --> 00:02:54,759
是因为他跟我相似

72
00:02:55,480 --> 00:02:56,000
对吧

73
00:02:56,199 --> 00:02:59,039
所以就是说通常你要去找一个东西

74
00:02:59,039 --> 00:03:00,319
那就是说根据历史

75
00:03:00,439 --> 00:03:01,319
去历史里面看

76
00:03:01,319 --> 00:03:02,439
或者别的地方看的话

77
00:03:02,480 --> 00:03:04,920
通常是要给你找你相似的那些

78
00:03:05,360 --> 00:03:06,840
给他分为比较大的权重

79
00:03:06,840 --> 00:03:08,039
这就是为什么说

80
00:03:08,280 --> 00:03:11,080
我们会用相似度来作为注意力的分数

81
00:03:11,800 --> 00:03:18,160
Mask的softmax不是把注意力分数低的过滤掉

82
00:03:18,160 --> 00:03:19,160
是把

83
00:03:19,720 --> 00:03:23,400
Mask softmax是把那低不是低

84
00:03:23,600 --> 00:03:25,040
就是说是把

85
00:03:25,560 --> 00:03:26,720
我说我有

86
00:03:27,960 --> 00:03:30,280
举个例子

87
00:03:30,400 --> 00:03:31,040
举个例子说

88
00:03:31,040 --> 00:03:34,360
我给你我给你了一句话

89
00:03:35,120 --> 00:03:36,520
里面有4个词

90
00:03:36,680 --> 00:03:38,000
记不记得我们之前说

91
00:03:38,000 --> 00:03:39,240
如果4个词不够长

92
00:03:39,240 --> 00:03:41,360
我要10长为10的句子

93
00:03:41,600 --> 00:03:43,520
我就在后面派的6个

94
00:03:43,879 --> 00:03:44,879
派的符号

95
00:03:46,000 --> 00:03:47,800
那么我现在拿一个query过来

96
00:03:47,800 --> 00:03:48,680
我去查询说

97
00:03:48,680 --> 00:03:50,719
我怎么翻译某一个词的话

98
00:03:50,760 --> 00:03:53,159
那么我去pay attention的时候

99
00:03:53,159 --> 00:03:54,840
那些keyword就有10个keyword的配

100
00:03:55,280 --> 00:03:57,879
那么我应该就只看前4个

101
00:03:57,879 --> 00:03:59,120
不看后面6个

102
00:03:59,240 --> 00:04:01,400
因为我知道后面6个是没意义的

103
00:04:01,520 --> 00:04:02,360
所以就是说

104
00:04:02,400 --> 00:04:04,960
Mask softmax就要允许你说

105
00:04:04,960 --> 00:04:07,560
我在给你一个长为10的一个序列

106
00:04:07,599 --> 00:04:09,479
但我说我其实告诉你

107
00:04:09,479 --> 00:04:10,520
我偷偷的告诉你说

108
00:04:10,520 --> 00:04:11,800
前面只有4个有用

109
00:04:11,800 --> 00:04:13,000
后面6个是没用的

110
00:04:13,039 --> 00:04:14,759
所以你告诉我是4

111
00:04:14,800 --> 00:04:16,680
那么算softmax的时候

112
00:04:16,680 --> 00:04:18,800
我把后面那些东西的值

113
00:04:18,800 --> 00:04:20,399
全部不考虑

114
00:04:20,560 --> 00:04:22,079
只对前面保留

115
00:04:22,120 --> 00:04:23,040
就等于是说

116
00:04:23,040 --> 00:04:24,680
把后面那些值的softmax

117
00:04:24,680 --> 00:04:25,279
全部设成0

118
00:04:25,279 --> 00:04:26,199
不管它是多大

119
00:04:26,199 --> 00:04:27,000
我都设成0

120
00:04:29,319 --> 00:04:30,240
OK 问题6

121
00:04:30,439 --> 00:04:31,439
看懂了数学逻辑

122
00:04:31,600 --> 00:04:32,319
挺厉害的

123
00:04:33,279 --> 00:04:35,120
我们就是先讲数学逻辑

124
00:04:35,279 --> 00:04:36,160
再讲怎么用

125
00:04:36,320 --> 00:04:37,240
所以你看懂了

126
00:04:37,600 --> 00:04:40,600
达到了我们的教学目的了

