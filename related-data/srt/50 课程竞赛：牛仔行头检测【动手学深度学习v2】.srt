1
00:00:00,000 --> 00:00:04,600
好 我们的第三个课程竞赛

2
00:00:04,600 --> 00:00:07,799
我们的这次竞赛的任务是做目标检测

3
00:00:07,799 --> 00:00:14,320
具体来说我们是你去检测图片里面的牛仔的装备

4
00:00:14,320 --> 00:00:16,080
你可以看一下这个图

5
00:00:16,080 --> 00:00:18,320
这个图就包括了你的牛仔帽

6
00:00:18,320 --> 00:00:20,400
就是绿色的框出来

7
00:00:20,400 --> 00:00:22,199
就是你需要去检测的东西

8
00:00:22,199 --> 00:00:23,719
这里有牛仔帽

9
00:00:23,719 --> 00:00:27,120
然后你墨镜

10
00:00:27,120 --> 00:00:28,560
然后是你的腰带

11
00:00:28,560 --> 00:00:29,960
牛仔的腰带

12
00:00:29,960 --> 00:00:32,000
然后是你的鞋子

13
00:00:32,000 --> 00:00:33,320
当然还有你的夹克

14
00:00:33,320 --> 00:00:34,359
牛仔夹克

15
00:00:34,359 --> 00:00:34,920
OK

16
00:00:34,920 --> 00:00:38,359
然后你在图片里面把这些东西给你检测出来

17
00:00:38,359 --> 00:00:41,520
这就是我们这次竞赛的主要内容

18
00:00:43,920 --> 00:00:47,519
我们来看一下我们的详细的任务

19
00:00:47,519 --> 00:00:50,359
是我们要去检测五类

20
00:00:50,359 --> 00:00:52,600
我们刚刚提到的牛仔的夹克

21
00:00:52,600 --> 00:00:53,200
墨镜

22
00:00:53,200 --> 00:00:54,040
靴子

23
00:00:54,040 --> 00:00:56,280
牛仔帽和腰带五类

24
00:00:56,600 --> 00:01:01,800
然后我们提供的是6900多张图片

25
00:01:01,800 --> 00:01:04,599
就将近700张图片让你训练

26
00:01:04,879 --> 00:01:10,200
然后这个图片里面大概有一共有12600个框

27
00:01:10,200 --> 00:01:11,960
就是Bunny Box

28
00:01:12,200 --> 00:01:15,159
所以基本上你认为一张图片平均要两个框

29
00:01:15,359 --> 00:01:16,560
其实也不算多

30
00:01:16,560 --> 00:01:17,719
也不算少

31
00:01:18,120 --> 00:01:21,960
这个数据的格式用的是Microsoft的Cocoa

32
00:01:21,960 --> 00:01:22,879
那个Data Set

33
00:01:23,879 --> 00:01:24,480
大家知道

34
00:01:25,000 --> 00:01:29,439
VOC和Cocoa是两个比较常见的

35
00:01:29,640 --> 00:01:31,040
目标检测的数据机

36
00:01:31,040 --> 00:01:33,520
Cocoa其实相对是更大一点

37
00:01:33,520 --> 00:01:35,159
你可以基本上认为

38
00:01:35,359 --> 00:01:40,400
Cocoa就等价于在图片分类里面的ImageNet

39
00:01:41,840 --> 00:01:45,600
因为它的数据量以及它是出现的比较早

40
00:01:45,760 --> 00:01:47,400
所以跟它是比较对等的

41
00:01:47,760 --> 00:01:51,040
然后我们的数据格式用的是Cocoa的格式

42
00:01:52,000 --> 00:01:52,760
大家可以去看一下

43
00:01:53,120 --> 00:01:55,160
去它的官方网站看一下

44
00:01:55,719 --> 00:01:59,040
你可以用它有一个工具叫PY Cocoa Tools

45
00:01:59,520 --> 00:02:01,359
你可以用它软件去下载说

46
00:02:01,359 --> 00:02:03,080
你怎么样把它的图片

47
00:02:03,600 --> 00:02:05,480
那些标注给你漏的进来

48
00:02:05,480 --> 00:02:08,439
然后你怎么样去换那个Bunny Box都是可以有的

49
00:02:08,719 --> 00:02:09,879
你可以直接掉库

50
00:02:10,560 --> 00:02:11,560
但你可以去了解一下

51
00:02:11,560 --> 00:02:13,240
它到底格式长什么样子

52
00:02:14,080 --> 00:02:17,120
评测用的是MAP

53
00:02:18,280 --> 00:02:21,040
但我们其实没有讲过MAP这个东西怎么算的

54
00:02:21,359 --> 00:02:25,519
就是因为我们这里也不给大家直接讲了

55
00:02:25,519 --> 00:02:26,439
因为一讲的话

56
00:02:26,439 --> 00:02:28,000
你可能10分钟20分钟

57
00:02:28,000 --> 00:02:30,000
10分钟至少就没了

58
00:02:30,439 --> 00:02:31,479
就是你可以简单认为

59
00:02:31,479 --> 00:02:34,199
就是说它去评测你对每一个类

60
00:02:34,439 --> 00:02:37,840
你预测的那些Bunny Box它的质量的好坏

61
00:02:38,439 --> 00:02:40,079
就是说它其实算的是一个UC

62
00:02:40,759 --> 00:02:42,319
就是说这一块我们没仔细讲

63
00:02:42,319 --> 00:02:44,000
但是你可以基本上认为是

64
00:02:44,000 --> 00:02:47,599
它用来评测你预测的Bunny Box的好坏

65
00:02:47,959 --> 00:02:48,759
同样道理的话

66
00:02:48,759 --> 00:02:49,919
我们没讲就是表示

67
00:02:49,920 --> 00:02:52,360
你其实就算不知道也没关系

68
00:02:52,720 --> 00:02:56,240
你可以调用它Coco Tools里面

69
00:02:56,880 --> 00:03:00,000
计算MAP的函数去看你的分数

70
00:03:01,200 --> 00:03:04,120
然后你的挑战就是要

71
00:03:05,440 --> 00:03:08,360
主要的挑战是类别是很不平衡的

72
00:03:08,880 --> 00:03:10,760
下面这个图我们画出了说

73
00:03:11,040 --> 00:03:15,040
5类它们分别出现的次数

74
00:03:15,760 --> 00:03:18,480
可以看到墨镜夹克出现的比较多

75
00:03:18,720 --> 00:03:20,320
这个其实很正常对吧

76
00:03:20,960 --> 00:03:22,120
就像你出个门

77
00:03:22,120 --> 00:03:23,160
你穿个夹克

78
00:03:23,160 --> 00:03:26,120
穿个带个墨镜其实很正常的

79
00:03:27,520 --> 00:03:29,760
接着是牛仔帽靴子

80
00:03:30,160 --> 00:03:31,360
然后腰带这个东西

81
00:03:31,600 --> 00:03:32,440
腰带这个东西

82
00:03:32,440 --> 00:03:36,320
其实我也我现实中还没看见过人系过腰带

83
00:03:36,440 --> 00:03:39,480
所以可能是比较少见一点

84
00:03:40,040 --> 00:03:41,840
所以基本上你可以看到

85
00:03:41,840 --> 00:03:44,360
腰带这个类出现的非常少

86
00:03:44,520 --> 00:03:46,560
然后你的墨镜夹克出现的很多

87
00:03:46,680 --> 00:03:47,880
所以很有可能就是说

88
00:03:47,879 --> 00:03:49,519
你如果职业训练的话

89
00:03:49,519 --> 00:03:52,719
你还有可能对墨镜和夹克预测的很好

90
00:03:52,799 --> 00:03:54,519
然后对你牛仔帽靴子不行

91
00:03:54,519 --> 00:03:56,359
然后你腰带就是比较差了

92
00:03:57,079 --> 00:04:00,799
所以对这一类类别不平衡的话

93
00:04:00,799 --> 00:04:01,879
你有很多种做法

94
00:04:01,879 --> 00:04:03,560
你可以通过采样

95
00:04:03,840 --> 00:04:05,960
尽量合理的采样去说

96
00:04:05,960 --> 00:04:07,639
让你的模型尽量去

97
00:04:08,560 --> 00:04:10,159
有多一点机会去看到腰带

98
00:04:10,159 --> 00:04:11,759
如果你随机采样的话

99
00:04:12,000 --> 00:04:13,879
基本上你采样到腰带的概率很低

100
00:04:13,879 --> 00:04:16,800
所以你可能要去干扰一下随机采样

101
00:04:17,120 --> 00:04:18,639
当然另外一块你可以加权重

102
00:04:18,840 --> 00:04:20,120
就是说让你的模型

103
00:04:20,400 --> 00:04:22,199
对于看到腰带的错误的时候

104
00:04:22,199 --> 00:04:23,199
给你权重多一点

105
00:04:23,199 --> 00:04:24,759
因为毕竟你看腰带看的少

106
00:04:25,160 --> 00:04:26,400
所以你说看到一次

107
00:04:26,400 --> 00:04:30,160
你就说多多去多多关注一下

108
00:04:30,160 --> 00:04:31,120
去进行分类

109
00:04:32,199 --> 00:04:33,639
OK 这个就是这个任务

110
00:04:34,400 --> 00:04:36,800
然后安排是说大家可以去看

111
00:04:36,800 --> 00:04:39,720
Kaggle我们Kaggle的地址在这个地方

112
00:04:40,080 --> 00:04:43,879
就是cowboyoutfit

113
00:04:44,319 --> 00:04:46,439
然后就这个地方

114
00:04:46,439 --> 00:04:47,519
我们上周也讲过

115
00:04:47,639 --> 00:04:50,040
就我们上周之所以没给大家看

116
00:04:50,319 --> 00:04:54,319
是因为Kaggle不支持MAP的计算

117
00:04:54,319 --> 00:04:55,519
就MAP算起来

118
00:04:55,519 --> 00:04:57,680
也不是那么简单的一个事情

119
00:04:58,319 --> 00:05:00,560
所以我们演讲了半天

120
00:05:00,560 --> 00:05:02,519
没有搞定说Kaggle到底怎么走

121
00:05:02,759 --> 00:05:04,319
Kaggle上也就是Google自己

122
00:05:04,759 --> 00:05:06,680
Kaggle是被Google收购了几年前

123
00:05:06,959 --> 00:05:08,240
所以就Google自己

124
00:05:09,000 --> 00:05:10,199
Libhack的一个版本

125
00:05:10,199 --> 00:05:12,639
所以它能做MAP

126
00:05:12,639 --> 00:05:14,000
就别人基本上做不了

127
00:05:14,439 --> 00:05:17,000
所以我们这里有一个解决方案

128
00:05:17,000 --> 00:05:18,279
是说大家绕一点

129
00:05:18,519 --> 00:05:21,360
就是说你可以用Kaggle去下载数据

130
00:05:21,480 --> 00:05:23,399
然后你可以在Kaggle上讨论

131
00:05:23,399 --> 00:05:24,800
你可以在Kaggle上提交你的

132
00:05:24,800 --> 00:05:26,319
Notebook跟之前是一样的

133
00:05:26,600 --> 00:05:28,120
唯一的不同是说

134
00:05:28,120 --> 00:05:31,600
你提交生成的.csv文件的时候

135
00:05:32,879 --> 00:05:34,439
你去下面那个link

136
00:05:34,759 --> 00:05:36,800
就做codelab上面

137
00:05:37,639 --> 00:05:38,519
就我们这有个link

138
00:05:38,519 --> 00:05:39,759
就是codelab是说

139
00:05:39,759 --> 00:05:42,720
允许你去把你的

140
00:05:43,040 --> 00:05:44,880
生成出来的.csv文件提交上去

141
00:05:45,200 --> 00:05:47,160
上面会计算你的MAP

142
00:05:47,160 --> 00:05:48,160
然后进行排名

143
00:05:49,360 --> 00:05:49,720
OK

144
00:05:49,720 --> 00:05:51,400
所以这个就是跟我们之前两次

145
00:05:51,400 --> 00:05:52,240
不一样的地方

146
00:05:52,240 --> 00:05:53,640
而且可能会绕一点点

147
00:05:53,960 --> 00:05:55,200
可能大家要

148
00:05:55,440 --> 00:05:57,920
我在这里给大家稍微提醒一下

149
00:05:58,200 --> 00:05:59,000
你提交结果

150
00:05:59,000 --> 00:06:00,320
你得去这个地方

151
00:06:00,320 --> 00:06:01,560
如果你在Kaggle提交结果

152
00:06:01,560 --> 00:06:02,920
你是看不出什么东西的

153
00:06:03,760 --> 00:06:04,280
OK

154
00:06:04,280 --> 00:06:07,200
如果大家碰到有人在评论区问的问题

155
00:06:07,200 --> 00:06:09,520
大家如果知道的同学也帮忙回答一下

156
00:06:09,680 --> 00:06:11,960
我可能不一定有空一直盯着

157
00:06:13,120 --> 00:06:14,000
然后我们的规则

158
00:06:14,120 --> 00:06:15,400
我们也稍微改了一下

159
00:06:15,600 --> 00:06:16,760
我们之前说

160
00:06:16,760 --> 00:06:17,720
你前5名

161
00:06:17,720 --> 00:06:18,840
我们就给你

162
00:06:19,200 --> 00:06:20,400
我们一本签名书

163
00:06:20,400 --> 00:06:21,360
然后后面我们说

164
00:06:21,360 --> 00:06:22,320
你们结果很好的话

165
00:06:22,320 --> 00:06:24,400
我说只要你在后面在20名之内

166
00:06:24,400 --> 00:06:26,800
你提交kernel也能给你签名书

167
00:06:27,000 --> 00:06:28,440
但是大家特别积极

168
00:06:28,440 --> 00:06:29,560
然后所以能提交了

169
00:06:29,560 --> 00:06:30,120
基本上

170
00:06:30,320 --> 00:06:32,520
所以我改变一下策略

171
00:06:33,080 --> 00:06:35,000
就是说我这一次改成

172
00:06:35,160 --> 00:06:37,600
你只要是前10名的队伍

173
00:06:38,200 --> 00:06:40,480
而且你在Kaggle上提交了kernel

174
00:06:40,520 --> 00:06:41,400
就是notebook

175
00:06:41,440 --> 00:06:43,120
你会获得我们的签名书

176
00:06:43,120 --> 00:06:45,240
就是我们如果第一次

177
00:06:45,400 --> 00:06:47,080
刚来的同学可以知道说

178
00:06:47,080 --> 00:06:50,560
我们书会在西方人那边

179
00:06:50,880 --> 00:06:53,360
我们这门课上完之后就能够订稿

180
00:06:53,920 --> 00:06:55,520
然后我们会挺厚的

181
00:06:55,520 --> 00:06:56,520
大概中文版

182
00:06:56,520 --> 00:06:58,480
可能有700 800页的样子

183
00:06:58,920 --> 00:07:00,440
所以我们会送你一本签名书

184
00:07:01,320 --> 00:07:02,960
然后我们之所以改说

185
00:07:02,960 --> 00:07:05,200
你前面之前前面5名说

186
00:07:05,200 --> 00:07:07,200
我们你愿意提交kernel

187
00:07:07,200 --> 00:07:08,160
愿意分享挺好的

188
00:07:08,160 --> 00:07:09,600
但我们没有强制要求

189
00:07:09,600 --> 00:07:11,040
是因为我们一开始就没有讲

190
00:07:11,200 --> 00:07:11,640
要求

191
00:07:12,160 --> 00:07:15,960
但是我们并几乎是大家都没有分享

192
00:07:16,160 --> 00:07:17,960
我们竞赛主要的目的是

193
00:07:17,960 --> 00:07:20,640
给大家分享一下大家的思路

194
00:07:20,680 --> 00:07:22,280
让大家有个学习的机会

195
00:07:22,600 --> 00:07:25,320
所以我们把奖励改成说

196
00:07:25,320 --> 00:07:27,200
让大家分享一下

197
00:07:29,040 --> 00:07:32,000
每个人的前面10名队伍的解决方案

198
00:07:32,000 --> 00:07:33,240
让大家有学习的机会

199
00:07:33,400 --> 00:07:35,160
这是我们竞赛的目的

200
00:07:36,080 --> 00:07:38,320
时间上我们是三周

201
00:07:39,040 --> 00:07:41,159
所以说你从现在开始

202
00:07:41,159 --> 00:07:44,319
到8月6号晚上的12点

203
00:07:44,319 --> 00:07:46,920
也就是星期五的晚上12点

204
00:07:46,920 --> 00:07:49,519
你可以认为是公榜

205
00:07:49,639 --> 00:07:50,759
你可以无限次提交

206
00:07:50,759 --> 00:07:52,120
然后随便你怎么提交

207
00:07:53,199 --> 00:07:54,680
私榜开过

208
00:07:54,680 --> 00:07:56,879
其实是说这跟开过有点不一样

209
00:07:57,079 --> 00:07:58,560
私榜就是说

210
00:07:58,560 --> 00:08:01,039
你在公榜结束之后的12个小时

211
00:08:01,319 --> 00:08:02,519
星期五晚上12点

212
00:08:02,519 --> 00:08:04,240
到第二天早上中午12点

213
00:08:04,240 --> 00:08:05,439
你下午1点我们要直播

214
00:08:06,199 --> 00:08:09,759
所以你需要再提交一次

215
00:08:09,800 --> 00:08:11,120
所以跟开过不一样的是

216
00:08:11,279 --> 00:08:12,199
开过以前是说

217
00:08:12,199 --> 00:08:13,439
我有一个测试集

218
00:08:13,439 --> 00:08:15,560
然后里面有1000张图片

219
00:08:15,560 --> 00:08:17,560
然后你就全部预测一遍

220
00:08:17,560 --> 00:08:18,519
然后提交给我

221
00:08:18,519 --> 00:08:19,120
开过说

222
00:08:19,120 --> 00:08:21,600
我把中间有一块预留成了私榜

223
00:08:21,600 --> 00:08:23,199
然后我就不告诉你分数

224
00:08:23,480 --> 00:08:24,319
这个地方不一样

225
00:08:24,319 --> 00:08:25,600
这个地方是他

226
00:08:25,879 --> 00:08:27,920
给了你两个测试数据节

227
00:08:27,920 --> 00:08:29,079
一个是用于公榜的

228
00:08:29,079 --> 00:08:30,199
就是第一个阶段的

229
00:08:30,199 --> 00:08:31,920
第二个是最后一个阶段的

230
00:08:32,639 --> 00:08:33,519
第二个数据节

231
00:08:33,679 --> 00:08:35,320
就是第二个集合

232
00:08:35,520 --> 00:08:36,520
当然你可以说

233
00:08:36,520 --> 00:08:37,560
每一次调餐的时候

234
00:08:37,560 --> 00:08:40,200
我都把两个集合的结果

235
00:08:40,200 --> 00:08:41,120
都生成出来

236
00:08:41,160 --> 00:08:45,640
但是在现在到8月6号

237
00:08:45,640 --> 00:08:46,640
晚上12点之前

238
00:08:46,800 --> 00:08:48,840
我们只看一个数据集的结果

239
00:08:48,880 --> 00:08:49,560
把它公布出来

240
00:08:49,560 --> 00:08:50,960
第二个数据我们是不会测的

241
00:08:52,160 --> 00:08:53,160
第二个数据节

242
00:08:53,160 --> 00:08:54,320
就是所谓的私榜

243
00:08:54,320 --> 00:08:56,000
就开过有点像个私榜的话

244
00:08:56,000 --> 00:08:57,200
就是12个小时

245
00:08:57,240 --> 00:08:58,640
你可以提交三次

246
00:08:59,320 --> 00:09:01,240
就是说你可以提交三次

247
00:09:01,240 --> 00:09:02,520
这开过只能提交一次

248
00:09:02,720 --> 00:09:04,360
就是说你这可以提交三次

249
00:09:04,440 --> 00:09:05,600
三次你提交上去之后

250
00:09:05,600 --> 00:09:07,200
你应该是能够选一个最好的

251
00:09:07,200 --> 00:09:09,600
作为最终的结果

252
00:09:09,800 --> 00:09:12,919
这就是跟我们之前竞赛

253
00:09:13,159 --> 00:09:14,560
稍微不一样的地方

254
00:09:15,639 --> 00:09:16,080
OK

255
00:09:16,080 --> 00:09:17,919
所以这就是我们的竞赛

256
00:09:17,919 --> 00:09:18,879
给大家介绍的

257
00:09:18,919 --> 00:09:20,279
我们也给大家看一下

258
00:09:20,360 --> 00:09:22,039
就是说比如说开口上面

259
00:09:23,159 --> 00:09:25,159
就是说我们点这个link过去的话

260
00:09:25,639 --> 00:09:27,720
然后我们的evaluation

261
00:09:27,720 --> 00:09:28,240
就是说

262
00:09:28,240 --> 00:09:31,399
因为我们evaluation是用MAP算的

263
00:09:31,519 --> 00:09:32,720
所以稍微复杂一点

264
00:09:32,720 --> 00:09:34,279
然后我们这里有个介绍

265
00:09:34,279 --> 00:09:36,319
就是说你MAP是怎么回事

266
00:09:36,360 --> 00:09:39,240
然后你可以那些都有

267
00:09:39,799 --> 00:09:41,519
然后因为相对来说

268
00:09:41,679 --> 00:09:42,600
目标检测

269
00:09:42,600 --> 00:09:45,360
它比图片分类稍微麻烦一点点

270
00:09:45,360 --> 00:09:47,360
就是在格式上

271
00:09:47,480 --> 00:09:48,839
所以我们还提交了一个

272
00:09:49,039 --> 00:09:52,120
我们是我们组的同事

273
00:09:52,199 --> 00:09:54,959
提交了一个让你开始的方案

274
00:09:55,360 --> 00:09:56,600
就这个是一个notebook

275
00:09:56,600 --> 00:09:58,919
就是说你可以用它作为你的开始

276
00:09:58,959 --> 00:10:01,279
去它基本上把所有东西

277
00:10:01,439 --> 00:10:02,759
用的是golong CV这个包

278
00:10:03,080 --> 00:10:06,559
然后你可以这个可能是可以读取数据

279
00:10:06,559 --> 00:10:07,080
然后训练

280
00:10:07,080 --> 00:10:09,159
然后提交一个合法的一个输出的

281
00:10:09,279 --> 00:10:13,120
然后大家可以去从参照notebook

282
00:10:13,120 --> 00:10:16,039
然后做你的自己的决策方案

283
00:10:17,480 --> 00:10:17,799
OK

284
00:10:17,799 --> 00:10:18,480
然后数据

285
00:10:18,679 --> 00:10:19,679
当然数据这一次

286
00:10:19,679 --> 00:10:21,080
因为我们也讲过

287
00:10:21,080 --> 00:10:22,879
说对于目标检测

288
00:10:22,879 --> 00:10:24,240
你的文件会大一点

289
00:10:24,240 --> 00:10:25,200
所以目标检测

290
00:10:25,200 --> 00:10:25,720
你可以看到

291
00:10:25,720 --> 00:10:28,080
其实你可能大家花点时间

292
00:10:28,240 --> 00:10:29,120
早点下载

293
00:10:29,159 --> 00:10:30,480
我们压来压去

294
00:10:30,480 --> 00:10:32,439
最后还是有一点三G

295
00:10:32,440 --> 00:10:33,600
三G跟Gb

296
00:10:33,800 --> 00:10:34,800
所以下载这个数据

297
00:10:34,800 --> 00:10:35,920
也不会那么简单

298
00:10:36,280 --> 00:10:37,080
跟图片

299
00:10:37,080 --> 00:10:38,200
也毕竟目标检测

300
00:10:38,280 --> 00:10:39,600
你不能把图片弄得太小

301
00:10:39,600 --> 00:10:39,920
太小

302
00:10:39,920 --> 00:10:41,840
你腰带你看都看不见了

303
00:10:41,840 --> 00:10:42,240
对吧

304
00:10:42,320 --> 00:10:45,920
所以这个是我们能压到最小的尺寸了

305
00:10:46,560 --> 00:10:47,120
OK

306
00:10:47,120 --> 00:10:49,360
所以这个就是我们这一次的竞赛

307
00:10:49,640 --> 00:10:51,040
欢迎大家积极参与

308
00:10:51,400 --> 00:10:53,360
去学习一下

309
00:10:53,360 --> 00:10:55,200
怎么样做目标检测

310
00:10:55,680 --> 00:10:57,520
我觉得这是计算机视觉里面

311
00:10:57,520 --> 00:10:59,120
可能用的最多的一个应用了

312
00:10:59,480 --> 00:11:00,000
图片分类

313
00:11:00,000 --> 00:11:02,559
可能用的还没有目标检测那么多

