1
00:00:00,000 --> 00:00:02,680
我们在问题时

2
00:00:02,720 --> 00:00:07,719
LS天如果不要C把公式里的CTI换成HTI

3
00:00:07,719 --> 00:00:12,679
好像可以实现让隐藏状态往下传递

4
00:00:13,519 --> 00:00:16,359
可以实现让隐藏状态往下传递

5
00:00:16,359 --> 00:00:18,440
就是说这个东西最大的问题是什么

6
00:00:18,440 --> 00:00:19,719
最大的问题是说

7
00:00:19,760 --> 00:00:24,120
LS天他想让H是在正义到负义之间的

8
00:00:24,120 --> 00:00:25,240
这样子的话

9
00:00:25,879 --> 00:00:29,839
它这样子可以有效的避免你的T2爆炸

10
00:00:30,519 --> 00:00:33,280
OK隐藏状态你放在正义到负义

11
00:00:33,320 --> 00:00:37,799
如果你现在C是一个没有放到负义到正义的东西

12
00:00:37,840 --> 00:00:39,280
你可以换掉之后

13
00:00:39,320 --> 00:00:42,519
你还得加碳H这些东西进去

14
00:00:42,560 --> 00:00:46,159
你就是比较奇怪了

15
00:00:46,719 --> 00:00:48,200
就是说你的等于是你的

16
00:00:48,200 --> 00:00:48,840
其实说白了

17
00:00:48,840 --> 00:00:51,120
就是说你如果把C换成H的话

18
00:00:51,120 --> 00:00:53,600
你的模型的复杂度会降低

19
00:00:53,799 --> 00:00:55,960
就是说你可以存的东西会变少

20
00:00:56,000 --> 00:00:57,400
所以LS天他相对来说

21
00:00:57,399 --> 00:01:00,359
用一个额外的C来多存一点东西

22
00:01:04,359 --> 00:01:05,879
就是说另外一个问题

23
00:01:05,879 --> 00:01:08,920
就是说IFCT到初始化都为0吗

24
00:01:08,920 --> 00:01:10,280
还是有什么说法

25
00:01:13,159 --> 00:01:16,079
就C和H的初始是0

26
00:01:16,120 --> 00:01:18,759
但是这些东西它不是等于0的

27
00:01:19,759 --> 00:01:23,759
IFOCT他都是在中间算出来的

28
00:01:23,759 --> 00:01:26,920
我们它不是上一个时候传过来的

29
00:01:26,920 --> 00:01:29,600
上一个时候只传了H和C

30
00:01:30,359 --> 00:01:30,920
OK

31
00:01:30,920 --> 00:01:32,879
H和C在一开始是初始化是0

32
00:01:32,920 --> 00:01:35,439
但这些东西都是在中间计算出来的

33
00:01:35,439 --> 00:01:38,359
所以它的值是取决于你的数据的

34
00:01:40,599 --> 00:01:41,480
问题12

35
00:01:41,480 --> 00:01:43,960
如何计算一个模型占用的显存

36
00:01:43,960 --> 00:01:45,960
以及一个batch占用的显存

37
00:01:47,200 --> 00:01:48,599
这个问题很难

38
00:01:49,000 --> 00:01:51,079
这个问题就是说你说我在

39
00:01:51,079 --> 00:01:53,359
我不要提前预估一下

40
00:01:53,359 --> 00:01:54,480
我整个东西的显存

41
00:01:54,480 --> 00:01:55,680
这个东西非常难算

42
00:01:55,960 --> 00:01:58,800
这个东西取决于你的框架优化有多好

43
00:01:59,640 --> 00:02:02,560
然后一般来说

44
00:02:02,560 --> 00:02:04,440
你是提前算不准的

45
00:02:04,440 --> 00:02:06,600
因为框架可以对它做一些优化

46
00:02:07,400 --> 00:02:09,520
所以而且这个东西也取决于

47
00:02:09,520 --> 00:02:10,560
你调用哪些库

48
00:02:10,640 --> 00:02:12,240
比如说你要调用的是

49
00:02:13,920 --> 00:02:15,280
QDN的话

50
00:02:15,280 --> 00:02:17,640
QDN会有中间有些额外的状态

51
00:02:17,640 --> 00:02:18,600
使得计算变快

52
00:02:18,600 --> 00:02:20,200
它是用内存换速度

53
00:02:22,120 --> 00:02:22,439
对

54
00:02:22,439 --> 00:02:24,840
因为多用点内存提升一下速度

55
00:02:24,840 --> 00:02:26,640
所以你无法预估

56
00:02:26,640 --> 00:02:28,000
所以你最好看的事情

57
00:02:28,000 --> 00:02:29,920
就是说你就跑一下

58
00:02:30,039 --> 00:02:30,599
就跑一下

59
00:02:30,640 --> 00:02:33,000
看一下实际的GPU内存使用

60
00:02:33,039 --> 00:02:35,319
就能知道大概是用了内存了

61
00:02:36,319 --> 00:02:37,400
问题13

62
00:02:37,400 --> 00:02:40,480
讲grn.gu输出的第一个参数

63
00:02:40,480 --> 00:02:41,159
是输出Y

64
00:02:41,159 --> 00:02:42,280
第二个参数是state

65
00:02:42,280 --> 00:02:44,039
为什么图核公司只用了state

66
00:02:44,039 --> 00:02:44,599
这个

67
00:02:44,719 --> 00:02:46,080
就state这个东西

68
00:02:48,520 --> 00:02:48,840
对

69
00:02:48,840 --> 00:02:50,280
就是说Y这个东西

70
00:02:50,400 --> 00:02:52,039
Y是往上输出的

71
00:02:53,039 --> 00:02:54,879
就回到我们的

72
00:02:56,560 --> 00:02:57,799
就我们这没画Y

73
00:02:58,039 --> 00:02:58,919
没有画Y

74
00:02:58,919 --> 00:02:59,959
就是我们只画了

75
00:03:00,840 --> 00:03:02,359
你要想知道Y的话

76
00:03:02,879 --> 00:03:03,879
你就是去看一下

77
00:03:03,879 --> 00:03:04,639
比如说

78
00:03:07,799 --> 00:03:08,840
就是这个东西

79
00:03:12,319 --> 00:03:13,199
就这个东西

80
00:03:14,079 --> 00:03:16,919
就是说你的state是往后传的

81
00:03:16,919 --> 00:03:18,239
你的Y是往上传的

82
00:03:18,239 --> 00:03:19,199
这两个不一样的东西

83
00:03:19,199 --> 00:03:19,919
我们画图

84
00:03:19,919 --> 00:03:21,680
当然就没必要画个Y出来了

85
00:03:21,960 --> 00:03:22,319
OK

86
00:03:22,319 --> 00:03:24,200
就是我们其实主要关键

87
00:03:24,200 --> 00:03:26,439
Y这个东西跟你MLP没区别

88
00:03:26,439 --> 00:03:28,400
这里新的东西是state是新的

89
00:03:28,400 --> 00:03:29,760
rn对rn来讲

90
00:03:29,920 --> 00:03:31,040
state要往后传

91
00:03:31,040 --> 00:03:32,480
往后一个时间不传

92
00:03:32,520 --> 00:03:33,280
就传回自己

93
00:03:33,360 --> 00:03:34,000
说白了

94
00:03:34,200 --> 00:03:36,520
所以这就是我们要从图上来说

95
00:03:36,520 --> 00:03:37,560
要画这个东西

