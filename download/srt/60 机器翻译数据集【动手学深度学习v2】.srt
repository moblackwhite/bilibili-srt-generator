1
00:00:00,000 --> 00:00:03,000
机器翻译大家知道我要给一个

2
00:00:03,000 --> 00:00:04,799
比如说给一句英文

3
00:00:04,799 --> 00:00:06,000
我要翻译到中文

4
00:00:06,360 --> 00:00:11,839
所以我们在讲我们之后的代码之前

5
00:00:11,839 --> 00:00:15,120
我给大家先讲一下机器翻译和它的

6
00:00:15,120 --> 00:00:16,760
数据集是长什么样子的

7
00:00:17,440 --> 00:00:20,640
首先我们是import我们的常用的包

8
00:00:20,640 --> 00:00:25,600
接下来就是我们下载了一个数据集

9
00:00:25,600 --> 00:00:27,760
是法语到英语

10
00:00:28,320 --> 00:00:31,679
因为我们没有找到特别好的中文到英文的

11
00:00:31,679 --> 00:00:31,960
翻译

12
00:00:31,960 --> 00:00:33,039
所以我们找了个法语

13
00:00:33,039 --> 00:00:34,160
但是我是看不懂法语的

14
00:00:34,160 --> 00:00:37,840
反正就是只能闭着眼睛训练

15
00:00:38,439 --> 00:00:40,280
然后当我们读进来之后

16
00:00:40,280 --> 00:00:41,760
我们看一下原始的长什么样子

17
00:00:41,760 --> 00:00:43,880
原始的它是长这样子

18
00:00:43,920 --> 00:00:45,920
就是说基本上

19
00:00:48,079 --> 00:00:50,480
这个是你的

20
00:00:51,000 --> 00:00:52,640
你这个是英文

21
00:00:53,400 --> 00:00:55,040
翻译成法语会怎么样子

22
00:00:55,240 --> 00:00:57,560
下面是英文

23
00:00:57,560 --> 00:00:58,439
对是法语

24
00:00:58,679 --> 00:01:00,280
基本上可以看到是它有标点

25
00:01:01,119 --> 00:01:03,439
中间是有个分割弧割开

26
00:01:05,280 --> 00:01:06,640
然后我们要做一下预处理

27
00:01:06,959 --> 00:01:08,120
第一个预处理干嘛

28
00:01:08,280 --> 00:01:09,000
第一个预处理说

29
00:01:09,000 --> 00:01:11,879
我们要把标点符号也翻出来

30
00:01:11,879 --> 00:01:15,079
我们之前是把标点符号给大家去掉了

31
00:01:15,239 --> 00:01:18,680
我们在这个地方要把标点符号给大家流出来

32
00:01:19,159 --> 00:01:20,000
这段代码干嘛

33
00:01:20,159 --> 00:01:22,400
就是说去看一下标点符号

34
00:01:22,400 --> 00:01:24,319
如果你是标点符号

35
00:01:24,320 --> 00:01:26,400
然后前面如果没有空格的话

36
00:01:26,520 --> 00:01:27,680
我给你空个格

37
00:01:27,880 --> 00:01:28,960
空格的好处是说

38
00:01:28,960 --> 00:01:30,360
我们切死的时候

39
00:01:30,440 --> 00:01:32,840
等会把标点给切成一个词出来

40
00:01:32,920 --> 00:01:34,160
切成一个token出来

41
00:01:35,040 --> 00:01:36,200
另外一块就是说

42
00:01:36,440 --> 00:01:37,960
UTF-8做一些处理

43
00:01:37,960 --> 00:01:39,800
这个是UTF-8里面一些

44
00:01:39,840 --> 00:01:41,680
半角的全角的空格

45
00:01:41,800 --> 00:01:43,520
全部翻译成空格

46
00:01:43,880 --> 00:01:44,080
好

47
00:01:44,080 --> 00:01:45,680
这就是非常简单的预处理

48
00:01:48,160 --> 00:01:48,920
另外一个就是说

49
00:01:48,920 --> 00:01:51,120
我们要把它做tokenize

50
00:01:51,160 --> 00:01:52,600
就是说变成token

51
00:01:52,920 --> 00:01:54,240
变成token我们就挺简单

52
00:01:54,240 --> 00:01:57,080
我们就直接是split出来

53
00:01:58,040 --> 00:02:00,040
然后当然是说可以看到是说

54
00:02:00,040 --> 00:02:00,880
这里不一样的是

55
00:02:00,880 --> 00:02:02,960
你的源的和你的target

56
00:02:03,040 --> 00:02:04,200
它都是一个句子

57
00:02:04,280 --> 00:02:07,000
所以你要对源也split一下

58
00:02:07,000 --> 00:02:08,920
你要对target也split出来

59
00:02:09,000 --> 00:02:10,600
然后你会出来一堆东西

60
00:02:11,240 --> 00:02:11,719
一堆东西

61
00:02:11,719 --> 00:02:14,400
就是说这个是你的源的句子

62
00:02:14,400 --> 00:02:15,560
就是英文的句子

63
00:02:15,600 --> 00:02:17,840
target就是对应的是法语的句子

64
00:02:18,600 --> 00:02:20,719
但我们把前6个画一下的话

65
00:02:20,719 --> 00:02:22,080
就可以看到是说

66
00:02:22,520 --> 00:02:23,560
这个是你看这是英语

67
00:02:24,000 --> 00:02:24,879
英语一个词

68
00:02:24,879 --> 00:02:26,360
就是要么是一个词

69
00:02:26,640 --> 00:02:28,120
要么是一个标点

70
00:02:28,159 --> 00:02:29,680
我们这里没有用字符了

71
00:02:29,840 --> 00:02:31,360
我们直接用的是词

72
00:02:31,719 --> 00:02:32,640
因为相对来说

73
00:02:32,640 --> 00:02:34,520
这个数据机还相对来说比较简单

74
00:02:34,680 --> 00:02:36,400
所以我们用词效果也不错

75
00:02:38,000 --> 00:02:39,520
然后它对应的每一个

76
00:02:39,680 --> 00:02:40,920
每一句话对应的法语

77
00:02:40,920 --> 00:02:41,840
应该是在这个地方

78
00:02:42,719 --> 00:02:44,080
虽然我也反正也看不懂

79
00:02:44,080 --> 00:02:44,680
它是什么意思

80
00:02:45,080 --> 00:02:48,640
反正就是一个句子

81
00:02:48,680 --> 00:02:50,240
一个list到另外一个list

82
00:02:50,240 --> 00:02:51,360
就是你要干的事情

83
00:02:52,360 --> 00:02:53,520
好

84
00:02:53,520 --> 00:02:54,200
然后我们看一下

85
00:02:54,200 --> 00:02:54,960
就是说这个图

86
00:02:55,120 --> 00:02:56,760
我就不讲这个图是干嘛的

87
00:02:56,760 --> 00:02:57,800
就代码我就不讲

88
00:02:57,800 --> 00:02:58,720
就是说主要讲一下

89
00:02:58,720 --> 00:02:59,280
就是说

90
00:02:59,440 --> 00:03:01,000
看一下源句子里面

91
00:03:01,200 --> 00:03:03,600
它的句子长度

92
00:03:03,640 --> 00:03:04,920
做一个指方图

93
00:03:04,960 --> 00:03:07,160
然后你的target也做一个长度

94
00:03:07,240 --> 00:03:07,960
指方图

95
00:03:08,040 --> 00:03:09,160
基本可以看到是说

96
00:03:09,160 --> 00:03:11,240
你的句子其实我们这个数据机

97
00:03:11,360 --> 00:03:12,200
都还挺短的

98
00:03:12,240 --> 00:03:13,080
它是一个相对来说

99
00:03:13,080 --> 00:03:14,360
比较简单的数据机

100
00:03:14,920 --> 00:03:17,240
所以可以看到是20

101
00:03:17,400 --> 00:03:18,560
这个长度是20

102
00:03:18,599 --> 00:03:20,800
然后基本上都是在

103
00:03:21,520 --> 00:03:22,759
四五六

104
00:03:23,159 --> 00:03:24,280
就是说在十以内

105
00:03:24,840 --> 00:03:25,840
基本上所有的句子

106
00:03:26,280 --> 00:03:26,879
就是说

107
00:03:27,240 --> 00:03:31,240
源句子基本上在和你的法语的

108
00:03:31,240 --> 00:03:33,000
英文和法语的都在十以内

109
00:03:33,599 --> 00:03:35,000
相对来说

110
00:03:35,000 --> 00:03:37,159
英语句子好像短那么一点点

111
00:03:37,280 --> 00:03:38,599
就是说你看到法语

112
00:03:38,800 --> 00:03:40,439
就是黄色的

113
00:03:40,640 --> 00:03:42,840
在大一点的句子

114
00:03:42,879 --> 00:03:43,560
稍微多一点

115
00:03:43,599 --> 00:03:45,920
就可能法语相对来说长一点

116
00:03:46,680 --> 00:03:48,520
当然每个语言它是有风格的

117
00:03:48,680 --> 00:03:49,800
中文更短

118
00:03:49,800 --> 00:03:51,200
就英文翻中文

119
00:03:51,200 --> 00:03:53,640
你可能十个词翻一过来

120
00:03:53,640 --> 00:03:55,560
可能就变成七八个字的样子

121
00:03:56,960 --> 00:03:57,600
Ok

122
00:03:58,400 --> 00:03:59,520
然后另外一个是说

123
00:03:59,520 --> 00:04:01,000
我们之前有介绍过

124
00:04:01,040 --> 00:04:02,600
怎么建一个vocab

125
00:04:03,080 --> 00:04:03,800
就是说

126
00:04:04,520 --> 00:04:06,040
然后我们在这个地方

127
00:04:06,040 --> 00:04:08,120
我们之前有讲过要reserved

128
00:04:08,120 --> 00:04:10,360
我们现在要有一些特殊的

129
00:04:10,400 --> 00:04:11,400
一些词在这个地方

130
00:04:11,960 --> 00:04:13,040
就是说我们是pad

131
00:04:13,040 --> 00:04:13,720
我们等会讲

132
00:04:13,720 --> 00:04:14,320
就是说pad

133
00:04:14,319 --> 00:04:16,079
就是说我给你填充

134
00:04:16,439 --> 00:04:19,599
BOS就是begin of sentence

135
00:04:19,599 --> 00:04:21,519
就是你的句子的开始

136
00:04:21,800 --> 00:04:24,439
EOS指的是你的句子的结束

137
00:04:24,680 --> 00:04:26,040
这是三个特殊词

138
00:04:26,040 --> 00:04:27,480
我们之后会用的

139
00:04:27,800 --> 00:04:28,560
而另外一个是说

140
00:04:28,560 --> 00:04:30,279
如果你一个词小于等于二

141
00:04:30,279 --> 00:04:31,680
我们就不要了

142
00:04:31,759 --> 00:04:34,600
所以就会拿到一个圆的vocab

143
00:04:35,000 --> 00:04:35,439
可以看到

144
00:04:35,439 --> 00:04:37,079
我们大概是有一万个词的样子

145
00:04:37,079 --> 00:04:37,480
在里面

146
00:04:37,480 --> 00:04:38,839
就一万个不一样的词

147
00:04:41,600 --> 00:04:42,759
另外一个是说

148
00:04:43,039 --> 00:04:44,199
因为我们这个句子

149
00:04:44,439 --> 00:04:46,240
长度是不一样的

150
00:04:46,399 --> 00:04:47,519
我们之前讲

151
00:04:49,439 --> 00:04:50,039
我们的

152
00:04:51,240 --> 00:04:51,719
叫什么

153
00:04:51,719 --> 00:04:52,920
language model的时候

154
00:04:52,920 --> 00:04:54,199
我们是把它切

155
00:04:54,199 --> 00:04:55,519
反正切成固定长度

156
00:04:55,839 --> 00:04:57,079
句子我们现在不能切了

157
00:04:57,079 --> 00:04:59,079
你就不能把两个句子放在一起

158
00:04:59,399 --> 00:05:02,079
所以你怎么样把句子变成一个长度

159
00:05:02,920 --> 00:05:04,279
一个做法是说

160
00:05:04,879 --> 00:05:06,560
我给你一个固定的长度

161
00:05:06,599 --> 00:05:08,639
就是我固定一个number of steps

162
00:05:09,800 --> 00:05:11,319
如果你这个句子

163
00:05:11,959 --> 00:05:13,319
大于我的number of steps

164
00:05:13,319 --> 00:05:13,560
时候

165
00:05:13,560 --> 00:05:14,719
我就把你砍掉

166
00:05:15,560 --> 00:05:16,920
就是如果我说告诉你说

167
00:05:16,920 --> 00:05:17,920
我就要10

168
00:05:17,920 --> 00:05:18,800
长度为10

169
00:05:18,839 --> 00:05:19,959
如果你句子很长的话

170
00:05:19,959 --> 00:05:21,399
我就把前面10个留下来

171
00:05:21,399 --> 00:05:22,360
后面就不要了

172
00:05:23,279 --> 00:05:25,519
假设你不够那么长怎么办

173
00:05:26,959 --> 00:05:28,240
不够长度的话

174
00:05:28,240 --> 00:05:30,240
我们就填充

175
00:05:30,240 --> 00:05:31,600
就是我们不是有个填充

176
00:05:32,199 --> 00:05:32,680
PAD

177
00:05:33,000 --> 00:05:33,399
PAD

178
00:05:34,519 --> 00:05:34,879
Token

179
00:05:35,240 --> 00:05:36,279
我们就把你的东西

180
00:05:36,279 --> 00:05:38,159
加上你填在后面

181
00:05:39,439 --> 00:05:40,279
比如说你可以看到

182
00:05:40,280 --> 00:05:41,360
我们说我们要

183
00:05:41,720 --> 00:05:42,320
这一个句子

184
00:05:42,480 --> 00:05:43,360
这个句子就很短

185
00:05:43,360 --> 00:05:45,800
这个句子其实就几个东西

186
00:05:48,160 --> 00:05:48,960
就是两个词

187
00:05:48,960 --> 00:05:50,280
然后我们要说

188
00:05:50,280 --> 00:05:52,520
我们要给你到10的话

189
00:05:52,520 --> 00:05:53,800
那么全部是填充

190
00:05:53,800 --> 00:05:55,600
这个东西都是填充在那个地方的

191
00:05:56,160 --> 00:05:56,960
这个是那个词

192
00:05:56,960 --> 00:05:57,760
这个是那个标点

193
00:05:57,920 --> 00:05:59,080
这个就是填充了

194
00:05:59,400 --> 00:05:59,920
OK

195
00:05:59,960 --> 00:06:01,080
所以这样的话

196
00:06:01,080 --> 00:06:03,080
我们就可以把每个句子

197
00:06:03,080 --> 00:06:04,760
变成一个固定的长度

198
00:06:04,960 --> 00:06:08,520
这个是我们在处理变长的时候

199
00:06:08,799 --> 00:06:10,279
做的经常做的一个事情

200
00:06:13,439 --> 00:06:13,639
好

201
00:06:13,639 --> 00:06:14,519
然后最后就是说

202
00:06:14,519 --> 00:06:16,159
我们要换成小批量的话

203
00:06:16,159 --> 00:06:16,799
也挺简单

204
00:06:16,799 --> 00:06:19,799
因为现在你那个句子

205
00:06:19,799 --> 00:06:22,120
已经有了固定长度了

206
00:06:22,279 --> 00:06:23,359
我们就是变成

207
00:06:23,359 --> 00:06:24,879
每个句子变成一个固定长度

208
00:06:24,879 --> 00:06:25,319
一个序列

209
00:06:25,319 --> 00:06:27,839
然后我们每一次就是小批量读

210
00:06:28,240 --> 00:06:28,879
唯一可以看到

211
00:06:28,879 --> 00:06:30,279
这里我们做了一点点

212
00:06:30,639 --> 00:06:31,359
额外的事情

213
00:06:32,079 --> 00:06:33,959
首先看到我们每个句子

214
00:06:35,079 --> 00:06:37,000
我们在后面加了一个EOS

215
00:06:37,040 --> 00:06:38,600
就是说我们每个句子

216
00:06:38,600 --> 00:06:39,000
结束

217
00:06:39,000 --> 00:06:41,319
我们加了一个截止符在这里面

218
00:06:41,959 --> 00:06:43,480
主要是可以告诉你说

219
00:06:43,480 --> 00:06:45,560
告诉你的模型

220
00:06:45,720 --> 00:06:47,720
这个地方是句子到头了

221
00:06:47,759 --> 00:06:48,759
因为你不然的话

222
00:06:48,759 --> 00:06:49,920
我也不知道你是

223
00:06:50,040 --> 00:06:51,279
到底是句号到头

224
00:06:51,399 --> 00:06:52,279
还是感叹号到头

225
00:06:52,319 --> 00:06:52,959
对吧

226
00:06:54,040 --> 00:06:56,600
另外一个我会保存下来

227
00:06:56,600 --> 00:06:58,199
叫validNance

228
00:06:58,439 --> 00:07:00,240
validNance是什么东西

229
00:07:00,639 --> 00:07:02,680
就是说你不是一个句子

230
00:07:03,240 --> 00:07:03,720
一个句子

231
00:07:03,720 --> 00:07:05,519
我填了很多东西在后面

232
00:07:05,839 --> 00:07:06,879
但是填充的东西

233
00:07:07,039 --> 00:07:08,560
这个东西其实是没意义的

234
00:07:08,839 --> 00:07:10,159
所以validNance

235
00:07:10,159 --> 00:07:11,639
就是说我告诉你这个句子

236
00:07:11,639 --> 00:07:13,359
它实际长度是4

237
00:07:13,359 --> 00:07:13,799
还是5

238
00:07:13,799 --> 00:07:14,479
还是几

239
00:07:15,079 --> 00:07:17,000
不管你填充是填到10的话

240
00:07:17,000 --> 00:07:19,079
那么你可以认为这个东西

241
00:07:19,560 --> 00:07:20,919
长度就等价于是

242
00:07:20,919 --> 00:07:22,120
你有多少个

243
00:07:22,639 --> 00:07:23,680
你有多少个样本

244
00:07:23,680 --> 00:07:25,120
就小批量大小是多大的话

245
00:07:25,120 --> 00:07:27,359
它就是常为小批量大小

246
00:07:27,359 --> 00:07:29,560
但是里面每一个元素

247
00:07:29,719 --> 00:07:32,240
它对应的是原始句子有多长

248
00:07:32,599 --> 00:07:33,279
这都valid

249
00:07:33,279 --> 00:07:34,639
就合法的长度

250
00:07:34,919 --> 00:07:36,079
那些piling的东西

251
00:07:36,079 --> 00:07:37,479
就可以认为是不合法的

252
00:07:38,159 --> 00:07:38,680
OK

253
00:07:38,680 --> 00:07:39,680
所以这个就是说

254
00:07:39,680 --> 00:07:41,000
这东西我们之后会用到

255
00:07:41,439 --> 00:07:43,519
因为我们在计算的时候

256
00:07:43,519 --> 00:07:44,879
我们不要去选那个piling

257
00:07:44,879 --> 00:07:46,599
所以这个东西我们之后留着

258
00:07:48,519 --> 00:07:50,439
最后就是你把所有东西

259
00:07:50,439 --> 00:07:51,240
写在一起的话

260
00:07:51,240 --> 00:07:52,039
长什么样子

261
00:07:52,199 --> 00:07:53,240
就是看到就是说

262
00:07:53,240 --> 00:07:54,399
你先下下来

263
00:07:54,399 --> 00:07:57,000
然后把它变成一个元和target

264
00:07:57,199 --> 00:07:58,159
然后注意到这里

265
00:07:58,319 --> 00:08:00,120
我们的元有自己的workab

266
00:08:00,120 --> 00:08:02,000
我们的target也有workab

267
00:08:02,000 --> 00:08:03,439
是因为英语和法语的词

268
00:08:03,439 --> 00:08:04,759
是不共用的

269
00:08:05,079 --> 00:08:07,160
所以我们把它分别做了workab

270
00:08:07,399 --> 00:08:09,160
当然你也可以做一个

271
00:08:09,680 --> 00:08:10,839
全部放在一起都可以

272
00:08:11,040 --> 00:08:14,160
现在如果你的数据够大的话

273
00:08:14,160 --> 00:08:15,399
你可以做一个巨大的workab

274
00:08:15,399 --> 00:08:17,160
把所有的语言都放在一起

275
00:08:17,160 --> 00:08:17,439
对

276
00:08:17,439 --> 00:08:18,639
是一个流行的做法

277
00:08:19,319 --> 00:08:20,120
但我们简单一点

278
00:08:20,240 --> 00:08:20,800
我们简单一点

279
00:08:20,800 --> 00:08:21,439
就是说

280
00:08:21,720 --> 00:08:22,720
元有一个ray

281
00:08:22,720 --> 00:08:24,159
然后它有一个

282
00:08:24,639 --> 00:08:26,959
它的合法长度

283
00:08:27,199 --> 00:08:29,680
target也要有一个

284
00:08:29,720 --> 00:08:30,720
你的那些序列

285
00:08:30,879 --> 00:08:31,800
已经派的好了

286
00:08:31,800 --> 00:08:32,440
就是说

287
00:08:33,039 --> 00:08:34,279
这个东西

288
00:08:34,440 --> 00:08:34,759
就是说

289
00:08:34,759 --> 00:08:36,120
你最后派的那个长度

290
00:08:36,120 --> 00:08:37,159
就每个句子的长度

291
00:08:37,159 --> 00:08:38,159
叫number of steps

292
00:08:39,360 --> 00:08:40,360
然后最后的最后

293
00:08:40,360 --> 00:08:40,639
就是说

294
00:08:40,639 --> 00:08:42,759
你会回来一个data iterate

295
00:08:42,919 --> 00:08:44,159
iterate返回的

296
00:08:44,159 --> 00:08:45,759
就是说会返回挺多东西的

297
00:08:46,360 --> 00:08:47,759
它会返回一个

298
00:08:48,480 --> 00:08:50,200
它原句子

299
00:08:50,200 --> 00:08:51,759
它的合法长度

300
00:08:52,039 --> 00:08:53,000
target的句子

301
00:08:53,000 --> 00:08:54,320
然后它的合法长度

302
00:08:54,639 --> 00:08:55,279
然后另外一个

303
00:08:55,279 --> 00:08:56,159
我们要返回的

304
00:08:56,159 --> 00:08:58,840
元的workab和target的workab

305
00:08:58,879 --> 00:08:59,519
OK

306
00:08:59,639 --> 00:09:01,159
所以最后看一下

307
00:09:01,159 --> 00:09:01,759
长什么样子

308
00:09:02,719 --> 00:09:03,879
如果我们要去读一个

309
00:09:03,919 --> 00:09:04,959
iterate的话

310
00:09:05,000 --> 00:09:06,399
你会拿到4个东西

311
00:09:07,279 --> 00:09:09,399
然后你的x是一个

312
00:09:10,000 --> 00:09:11,159
每一个就是一个

313
00:09:11,159 --> 00:09:12,159
每一行就是一个句子

314
00:09:13,600 --> 00:09:16,240
你的length就是

315
00:09:16,279 --> 00:09:17,000
这就4

316
00:09:17,279 --> 00:09:18,519
它就是4个

317
00:09:19,399 --> 00:09:20,279
就是两个词

318
00:09:20,279 --> 00:09:20,879
一个标点

319
00:09:20,879 --> 00:09:22,879
然后最后是一个句子的截止符

320
00:09:22,879 --> 00:09:23,719
后面是paling

321
00:09:23,719 --> 00:09:24,360
就是

322
00:09:24,399 --> 00:09:26,279
所以就这个是4在这个地方

323
00:09:26,639 --> 00:09:27,759
第二个句子也是4

324
00:09:28,240 --> 00:09:29,360
也是4在这个地方

325
00:09:29,680 --> 00:09:31,759
然后你的y就是对应的

326
00:09:32,120 --> 00:09:33,159
法语的句子

327
00:09:33,720 --> 00:09:34,159
这个地方

328
00:09:34,159 --> 00:09:36,000
你看法语句子会长一点

329
00:09:36,120 --> 00:09:36,800
这里有5

330
00:09:37,039 --> 00:09:38,000
它对应的是5

331
00:09:38,120 --> 00:09:40,279
然后这个东西对应的是4

332
00:09:40,560 --> 00:09:41,720
后面都是填充

333
00:09:42,000 --> 00:09:42,560
OK

334
00:09:42,639 --> 00:09:44,240
这就是我们的

335
00:09:45,680 --> 00:09:48,639
整个怎么样读一个机器

336
00:09:48,639 --> 00:09:50,120
翻译的一个数据集

337
00:09:50,360 --> 00:09:51,919
所以跟我们之前不一样的

338
00:09:51,919 --> 00:09:53,879
主要是我们的

339
00:09:54,240 --> 00:09:55,879
我们的语言

340
00:09:56,639 --> 00:09:57,920
它的预测东西

341
00:09:57,920 --> 00:09:59,279
不再是一个标号了

342
00:09:59,480 --> 00:10:02,639
你的y也是一个长一个序列

343
00:10:02,800 --> 00:10:05,000
另外一个就是说我们做了填充

344
00:10:05,000 --> 00:10:07,039
这样子能够做成mini batch

345
00:10:07,080 --> 00:10:07,960
然后填充的话

346
00:10:07,960 --> 00:10:09,800
我们用了valid length

347
00:10:09,800 --> 00:10:12,320
来记录你原始的句子是有多长的

348
00:10:12,519 --> 00:10:12,879
OK

349
00:10:12,879 --> 00:10:14,919
这就是跟之前的一点点不一样

